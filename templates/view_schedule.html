{% extends "base.html" %}

{% block title %}TV Guide{% endblock %}

{% block content %}
  <h1>TV Guide Schedule</h1>

  {% if entries %}
  <div class="tv-guide">
    <div class="grid">
      {# Sort by time (simple lexicographic HH:MM works if times are zero-padded) #}
      {% for entry in entries | sort(attribute='time') %}
        <div class="program {{ entry.category|default('') }}">
          <div class="time">{{ entry.day }} {{ entry.time }}</div>

          {# Use entry.image if present, otherwise fall back to a default image #}
          <img
            src="{{ url_for('static', filename=entry.image) if entry.image is defined and entry.image else url_for('static', filename='img/tvguide/default.jpg') }}"
            alt="preview"
            class="thumbnail"
          >

          <div class="title">{{ entry.filepath }}</div>
        </div>
      {% endfor %}
    </div>
  </div>
  {% else %}
    <p>No queued items found.</p>
  {% endif %}
{% endblock %}
